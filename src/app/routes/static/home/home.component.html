<section id="home-master">
    <section class="top-body">
        <div class="crud-selector">{{ crudOperation }} <div *ngIf="crudOperation == 'Edit'" class="remove"
                (click)="onEditAbort()">ABORT EDIT</div>
        </div>
        <form [formGroup]="filterForm">
            <!-- " -->
            <input type="hidden" formControlName="id">
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Name</mat-label>
                    <input matInput formControlName="name" autocomplete="off">
                    <mat-hint>(Hint)Paul</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Surname</mat-label>
                    <input matInput formControlName="surname" autocomplete="off">
                    <mat-hint>(Hint)Milestones</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender" class="gender-select">
                        <mat-option value="0">Male</mat-option>
                        <mat-option value="1">Female</mat-option>
                        <mat-option value="2">Ambiguous</mat-option>
                    </mat-select>
                    <mat-hint>(Hint)Female</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Date of birth</mat-label>
                    <input matInput formControlName="dateOfBirth" [matDatepicker]="picker">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-hint>(Hint)2000-01-11</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Address</mat-label>
                    <input matInput formControlName="address" autocomplete="off">
                    <mat-hint>(Hint)Morris Ave</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Country</mat-label>
                    <mat-select formControlName="countryId" class="country-select">
                        <mat-option *ngFor="let countr of countries" [value]="countr.id">{{countr.code }} - {{
                            countr.name }}
                        </mat-option>
                    </mat-select>
                    <mat-hint>(Hint)Spain</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <mat-form-field appearance="legacy">
                    <mat-label>Postal code</mat-label>
                    <input matInput formControlName="postalCode" autocomplete="off">
                    <mat-hint>(Hint)30700</mat-hint>
                </mat-form-field>
            </div>
            <div class="field-wrapper">
                <app-user-icon-button (click)="onSubmit()" [title]="crudOperation" [isLoading]="isCreateOrEditFormLoading"></app-user-icon-button>
            </div>
        </form>
    </section>
    <section class="bottom-body mat-app-background">
        
        <section class="top-body search-panel">
            <div class="crud-selector">Search</div>
            <form [formGroup]="searchFilterForm">
                <!-- " -->
                <input type="hidden" formControlName="id">
                <input type="hidden" formControlName="dateOfBirth">
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name" autocomplete="off">
                        <mat-hint>(Hint)Paul</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Surname</mat-label>
                        <input matInput formControlName="surname" autocomplete="off">
                        <mat-hint>(Hint)Milestones</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Gender</mat-label>
                        <mat-select formControlName="gender" class="gender-select">
                            <mat-option value="0">Male</mat-option>
                            <mat-option value="1">Female</mat-option>
                            <mat-option value="2">Ambiguous</mat-option>
                        </mat-select>
                        <mat-hint>(Hint)Female</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Date of birth (From)</mat-label>
                        <input matInput formControlName="from" [matDatepicker]="pickerFrom">
                        <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
                        <mat-datepicker #pickerFrom></mat-datepicker>
                        <mat-hint>(Hint)2000-01-11</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Date of birth (To)</mat-label>
                        <input matInput formControlName="to" [matDatepicker]="pickerTo">
                        <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
                        <mat-datepicker #pickerTo></mat-datepicker>
                        <mat-hint>(Hint)2021-06-06</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Address</mat-label>
                        <input matInput formControlName="address" autocomplete="off">
                        <mat-hint>(Hint)Morris Ave</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Country</mat-label>
                        <mat-select formControlName="countryId" class="country-select">
                            <mat-option *ngFor="let countr of searchCountries" [value]="countr.id">
                                {{countr.code }} - {{ countr.name }}
                            </mat-option>
                        </mat-select>
                        <mat-hint>(Hint)Spain</mat-hint>
                    </mat-form-field>
                </div>
                <div class="field-wrapper">
                    <mat-form-field appearance="legacy">
                        <mat-label>Postal code</mat-label>
                        <input matInput formControlName="postalCode" autocomplete="off">
                        <mat-hint>(Hint)30700</mat-hint>
                    </mat-form-field>
                </div>
            </form>
            <div class="field-wrapper" style="width: fit-content;">
                <app-user-icon-button (click)="onClientSearch()" [title]="'Search'" [isLoading]="isSearchingFormLoading"></app-user-icon-button>
            </div>
        </section>
        <section>
            <app-custom-data-table-server-paged 
            [columns]="columns" 
            [data]="clients" 
            [length]="totalClients" 
            (pageChanged)="onClientPagedSearch($event)">
            </app-custom-data-table-server-paged>
        </section>


    </section>
</section>